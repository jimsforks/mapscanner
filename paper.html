<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Summary • mapscanner</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>




<meta property="og:title" content="Summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-title-body">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">mapscanner</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="articles/index.html">Vignettes</a>
</li>
<li>
  <a href="reference/index.html">Functions</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mpadge/mapscanner">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="contents col-md-9">
    <div class="page-header">
      <h1>Summary</h1>
    </div>


<hr>
<p>title: mapscanner tags: - maps - spatial - R authors: - name: Mark Padgham affiliation: 1 - name: Michael D. Sumner affiliation: 2 affiliations: - name: rOpenSci index: 1 - name: Australian Antarctic Division, Hobart, Australia. index: 2 date: 06 Feb 2020 bibliography: vignettes/mapscanner.bib nocite: | @* —</p>
<div id="summary" class="section level1">

<p><code>mapscanner</code> is an <strong>R</strong> package that enables maps to be printed out, drawn on, scanned back in, and have the drawn components converted to spatial objects. It is intended for use in social surveys and similar endeavours in which printed paper maps are preferred over digital screens, and enables marks drawn by hand on paper maps to be converted to spatial objects. The use of paper maps is often advantageous because (i) they cost much less than computer devices otherwise needed for digital equivalents; and (ii) they may in many situations be deemed to yield more reliable or accurate results through removing the psychological barriers often associated with screen-based surveys [@Toninelli2016].</p>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<p>The package is designed to enable the following workflow:</p>
<ol>
<li>Generate a map with the <code><a href="reference/ms_generate_map.html">ms_generate_map()</a></code> function, which automatically produces both <code>.pdf</code> and <code>.png</code> versions;</li>
<li>Either print the <code>.pdf</code> version to use as desired in any kind of survey environment, or use either the <code>.pdf</code> or <code>.png</code> versions in digital form for screen-based surveys.</li>
<li>Draw on the map;</li>
<li>For paper maps, digitise the drawn-on (from here on, “modified”) map, converting it to either <code>.pdf</code> or <code>.png</code> format; and</li>
<li>Rectify the modified version against the original via the <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps()</a></code> function, which distinguishes individual annotations, and converts each one to a spatial object able to be analysed in any desired manner.</li>
</ol>
<p>The following two sections describe the two primary functions of the <code>mapscanner</code> package, corresponding to the two primary steps of producing maps to be used in surveys (or other activities), and rectifying modified maps against these originals in order to extract spatial objects. The second of these sections also describes the kinds of markings able to be recognised, and the kinds of spatial objects to which these may be converted.</p>
<div id="map-generation" class="section level2">
<h2 class="hasAnchor">
<a href="#map-generation" class="anchor"></a>Map generation</h2>
<p>Having obtained and set a <a href="https://mapbox.com"><code>mapbox</code></a> token as described in the package website, the <code><a href="reference/ms_generate_map.html">ms_generate_map()</a></code> function can be used to generate printable maps for a specified bounding box in both <code>.pdf</code> and <code>.png</code> formats. Usage is a simple as,</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw"><a href="reference/ms_generate_map.html">ms_generate_map</a></span> (<span class="st">"chennai india"</span>, <span class="dt">mapname =</span> <span class="st">"chennai"</span>)</a></code></pre></div>
<p>The two generated maps are saved in the current working directory (<code><a href="https://rdrr.io/r/base/getwd.html">getwd()</a></code>). To save maps in alternative locations, the <code>mapname</code> parameter can optionally specify paths. To provide finer control over the scales of maps, precise bounding boxes can also be submitted. To determine desired bounding boxes, we recommend using the <a href="https://openstreetmap.org">‘openstreetmap.org’ website</a>, zooming to a desired area, then clicking the “Export” button. A window will appear which includes the bounding coordinates of the current screen. Even finer control can be gained by clicking beneath this coordinate window on the line which says, “Manually select a different area,” which brings a drag-able rectangle onto the current screen. The coordinates in the bounding box then simply need to be entered in to the <code>bbox</code> parameter of <code><a href="reference/ms_generate_map.html">ms_generate_map()</a></code> in the order (<code>xmin</code>, <code>ymin</code>, <code>xmax</code>, <code>ymax</code>) – or anti-clockwise from the left-hand coordinate.</p>
<p>The amount of detail in resultant maps is controlled by the <code>max_tiles</code> argument, with larger values producing more detail, and resulting in larger file sizes. The default value of <code>max_tiles = 16L</code> (where the <code>L</code> symbol tells <code>R</code>to treat the value as an integer) should produce acceptable results for maps extending across hundreds of metres to a few kilometres Smaller-scale maps may require higher values, and vice-versa. Map generation is relatively fast, and so different values can be readily trialled.</p>
<p>Maps are generated in two formats, because the <code>.pdf</code> version will generally be the most convenient for printing, while the <code>png</code> version should be retained as the “master” copy against which to rectify subsequently scanned-in version. Behind the scenes, the function downloads a series of vector map tiles from <a href="https://mapbox.com">mapbox</a>, and converts them to a <code>rasterBrick</code> object from the <a href="https://cran.r-project.org/package=raster"><code>raster</code> package</a>. This <code>rasterBrick</code> object is invisibly returned from the function:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">x &lt;-<span class="st"> </span><span class="kw"><a href="reference/ms_generate_map.html">ms_generate_map</a></span> (<span class="st">"chennai india"</span>, <span class="dt">mapname =</span> <span class="st">"chennai"</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="co">#&gt; Successfully generated 'chennai.pdf' and 'chennai.png'"</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">x</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; class      : RasterBrick</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt; dimensions : 574, 282, 161868, 3  (nrow, ncol, ncell, nlayers)</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt; resolution : 76.43703, 76.43703  (x, y)</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt; extent     : 8921118, 8942674, 1442749, 1486624  (xmin, xmax, ymin, ymax)</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt; crs        : +proj=merc +a=6378137 +b=6378137</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt; source     : memory</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt; names      : layer.1, layer.2, layer.3</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt; min values :     101,     101,     101</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt; max values :     255,     255,     255</span></a></code></pre></div>
<p>This <code>rasterBrick</code> object contains raster information for the three colour channels of the image, and so may also be used for immediate viewing within <strong>R</strong> with <code><a href="https://rdrr.io/pkg/raster/man/plotRGB.html">raster::plotRGB(x)</a></code>.</p>
<p>Standard uses of the package should not need to explicitly access or modify these data, but it is nevertheless possible to do so, and then use a custom-modified object to produce the external <code>.pdf</code> and <code>.png</code> files by submitting the <code>rasterBrick</code> object to <code><a href="reference/ms_generate_map.html">ms_generate_map()</a></code>:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/ms_generate_map.html">ms_generate_map</a></span> (<span class="dt">raster_brick =</span> x, <span class="dt">mapname =</span> <span class="st">"chennai"</span>)</a></code></pre></div>
</div>
<div id="map-rectification" class="section level2">
<h2 class="hasAnchor">
<a href="#map-rectification" class="anchor"></a>Map rectification</h2>
<p>Having produced digital maps using the <code><a href="reference/ms_generate_map.html">ms_generate_map()</a></code> function as described above, and having printed, variously drawn-on, and, for paper maps, scanned the result back in to digital form, the package can then be used to rectify the hand-drawn markings against the original map with the <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps()</a></code> function, which returns the drawn-on objects as spatial objects in <a href="https://cran.r-project.org/package=sf">Simple Features (<code>sf</code>)</a> format. The only requirement is that the drawn-on objects are coloured; black or grey objects will be ignored. As described above, this has the advantage that maps may be annotated in ways not intended to be converted to spatial objects (such as adding unique identification or participant codes), through simply providing such annotations in grey or black.</p>
<p>The <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps()</a></code> function has two primary arguments, specifying the names (and locations) of the original and modified map files – in that order: <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps(original, modified)</a></code>. These files should ideally be in <code>.png</code> formats, but will be auto-converted from <code>.pdf</code> if needed. The package comes with two sample maps, both in <code>.png</code> format. The first is the reference version needed for rectification, while the second has two red lines drawn upon it:</p>
<p><img src="./inst/extdata/omaha-polygons.png"></p>
<p>Converting the lines on this scanned image file is then as simple as:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">f_orig &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span> (<span class="st">"extdata"</span>, <span class="st">"omaha.png"</span>, <span class="dt">package =</span> <span class="st">"mapscanner"</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2">f_mod &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span> (<span class="st">"extdata"</span>, <span class="st">"omaha-polygons.png"</span>, <span class="dt">package =</span> <span class="st">"mapscanner"</span>)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3">xy &lt;-<span class="st"> </span><span class="kw"><a href="reference/ms_rectify_maps.html">ms_rectify_maps</a></span> (f_orig, f_mod, <span class="dt">nitems =</span> <span class="dv">2</span>)</a></code></pre></div>
<p>The result of <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps()</a></code> can be plotted using any standard option for plotting spatial data, such as through online mapping packages such as <code>mapview</code>:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">xy<span class="op">$</span>id &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span> (<span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span> (xy))</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">mapview<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapview</a></span> (xy)</a></code></pre></div>
<div id="types-of-map-markings-and-types-of-spatial-objects" class="section level3">
<h3 class="hasAnchor">
<a href="#types-of-map-markings-and-types-of-spatial-objects" class="anchor"></a>Types of map markings and types of spatial objects</h3>
<p>The <code><a href="reference/ms_rectify_maps.html">ms_rectify_maps()</a></code> function has an additional argument, <code>type</code>, which takes the following values:</p>
<ol>
<li>
<code>type = "hulls"</code> (the default), which returns convex or concave hulls around distinct sets of contiguously marked lines, regardless of whether those lines form closed polygons or not (see function help for details).</li>
<li>
<code>type = "polygons"</code>, which returns the outlines traced around each individual drawn object. This tracing is pixel-based, resulting in polygons with one spatial point for each scanned pixel. This may generate spatial objects that are both overly large as well as visually pixillated. The function includes an additional <code>downsample</code> parameter which down-samples and smooths the resultant polygons by the specified multiple.</li>
<li>
<code>type = "points"</code>, which returns single points (as geometric centroids) for each object. This is useful for identification of individual point locations regardless of the kinds of marks actually drawn on a map (dots, circles, crosses, or any shape, should all give equivalent results).</li>
</ol>
<p>The type of <code>polygons</code> assumes – and indeed requires – that the drawn objects are <em>closed</em> polygons (as illustrated in the first of the above figures), so care must be taken to ensure this is in fact the case. Any lines that do not form closed circles will not be appropriately translated. Algorithms for extracting objects with <code>type = "polygons"</code>are fundamentally different from <code>type = "hulls"</code>. The latter applies convex or concave-hull tracing algorithms, while the former explicitly traces every individual pixel of a contiguous object, and returns the external boundary comprised of the coordinates of all pixels lying on that boundary. This will thus often produce more accurate and detailed results, yet as mentioned should only be applied where markings form strictly closed polygons. All other cases in which areal rather than point-based results are desired should use the default <code>type = "hulls"</code>. Examples include participants being asked to colour particular areas using any desired kind of marks, enabling areal-filling scribbles can be converted to polygons representing the outer boundaries.</p>
</div>
</div>
<div id="bonus-feature-polygon-aggregation" class="section level2">
<h2 class="hasAnchor">
<a href="#bonus-feature-polygon-aggregation" class="anchor"></a>Bonus Feature: Polygon Aggregation</h2>
<p>Maps are typically used in social surveys to delineate participants’ understanding or perception of particular regions or areas. In such contexts, surveys often result in numerous polygonal shapes representing different perceptions of a particular region. The <code>mapscanner</code> package provides an additional function, <code><a href="reference/ms_aggregate_polys.html">ms_aggregate_polys()</a></code>, to aggregate polygons into a single “heat map” containing vector outlines of aggregated polygons. Each component of these aggregated polygons defines the region within which <code>n</code> polygons overlap.</p>
<p>The function is now illustrated with a slightly more complicated version of the example provided for <code><a href="reference/ms_aggregate_polys.html">ms_aggregate_polys()</a></code>, starting by generating a series of polygons as convex hulls surrounding random points.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1">n &lt;-<span class="st"> </span><span class="dv">5</span> <span class="co"># number of polygons</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">polys &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span> (<span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span> (n), <span class="cf">function</span> (i) {</a>
<a class="sourceLine" id="cb6-3" data-line-number="3">                     nxy &lt;-<span class="st"> </span><span class="dv">20</span> <span class="co"># number of points used to generate hull</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4">                     xy &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span> (<span class="kw"><a href="https://rdrr.io/r/stats/Uniform.html">runif</a></span> (<span class="dv">2</span> <span class="op">*</span><span class="st"> </span>nxy), <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">                     h &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/grDevices/chull.html">chull</a></span> (xy)</a>
<a class="sourceLine" id="cb6-6" data-line-number="6">                     sf<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/st.html">st_polygon</a></span> (<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span> (xy [<span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span> (h, h [<span class="dv">1</span>]), ]))</a>
<a class="sourceLine" id="cb6-7" data-line-number="7">            })</a>
<a class="sourceLine" id="cb6-8" data-line-number="8">polys &lt;-<span class="st"> </span>sf<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/sf.html">st_sf</a></span> (<span class="dt">n =</span> <span class="kw"><a href="https://rdrr.io/r/base/seq.html">seq</a></span> (n), <span class="dt">geometry =</span> polys)</a></code></pre></div>
<p>The <code>polys</code> object is then a Simple Features (<a href="https://cran.r-project.org/package=sf"><code>sf</code></a>) <code>data.frame</code> with <code>n</code> overlapping polygons, and an additional row, <code>n</code>, to identify each polygon. The following lines then convert these to aggregated, overlapping polygons, and plot the result:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1">aggr &lt;-<span class="st"> </span><span class="kw"><a href="reference/ms_aggregate_polys.html">ms_aggregate_polys</a></span> (polys)</a>
<a class="sourceLine" id="cb7-2" data-line-number="2">polys<span class="op">$</span>type &lt;-<span class="st"> "raw polygons"</span></a>
<a class="sourceLine" id="cb7-3" data-line-number="3">aggr<span class="op">$</span>type &lt;-<span class="st"> "aggregated polygons"</span></a>
<a class="sourceLine" id="cb7-4" data-line-number="4">polys &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cbind.html">rbind</a></span> (polys, aggr)</a>
<a class="sourceLine" id="cb7-5" data-line-number="5"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span> (ggplot2)</a>
<a class="sourceLine" id="cb7-6" data-line-number="6"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span> (polys, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span> (<span class="dt">fill =</span> n)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span> () <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html">facet_wrap</a></span> (<span class="op">~</span>type)</a></code></pre></div>
<p>See the package website for the resultant plot. The object returned from <code><a href="reference/ms_aggregate_polys.html">ms_aggregate_polys()</a></code> contains polygons ordered by level of aggregation (<code>n</code>), so the first entirely encloses the second; the second encloses the third; and so on. Particular contours can then be directly selected by filtering for desired values of <code>n</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span> (aggr [aggr<span class="op">$</span>n <span class="op">%in%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span> (<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>), ], <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span> (<span class="dt">fill =</span> n)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html">geom_sf</a></span> ()</a></code></pre></div>
<p>Polygon aggregation enables many interesting analyses to be performed, such as relationships between aggregation level and area:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1">aggr<span class="op">$</span>area &lt;-<span class="st"> </span>sf<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/geos_measures.html">st_area</a></span> (aggr)</a>
<a class="sourceLine" id="cb9-2" data-line-number="2"><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span> (aggr, <span class="kw"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span> (<span class="dt">x =</span> n, <span class="dt">y =</span> area)) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://ggplot2.tidyverse.org/reference/geom_path.html">geom_line</a></span> (<span class="dt">size =</span> <span class="dv">2</span>)</a></code></pre></div>
<p>The result (again, shown on main package website) is of course (roughly) linear, because it was derived from random data. In actual usage, results such as that are likely to generate direct insight into consensus of opinion regarding how people understand particular areas.</p>
</div>
</div>
<div id="references" class="section level1">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
</div>


  </div>

</div>



      <footer>
      <div class="copyright">
  <p>Developed by Mark Padgham, Michael D. Sumner.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


